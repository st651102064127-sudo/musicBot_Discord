var l=Object.defineProperty;var c=Object.getOwnPropertyDescriptor;var p=Object.getOwnPropertyNames;var Q=Object.prototype.hasOwnProperty;var f=n=>l(n,"__esModule",{value:!0});var b=(n,e)=>{for(var t in e)l(n,t,{get:e[t],enumerable:!0})},y=(n,e,t,u)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of p(e))!Q.call(n,i)&&(t||i!=="default")&&l(n,i,{get:()=>e[i],enumerable:!(u=c(e,i))||u.enumerable});return n};var d=(n=>(e,t)=>n&&n.get(e)||(t=y(f({}),e,1),n&&n.set(e,t),t))(typeof WeakMap!="undefined"?new WeakMap:0);var T={};b(T,{QueueMeta:()=>r,kInstance:()=>s,singleton:()=>o});var r=class{constructor(e="FIFO"){this.internalQueue=[];if(!["FIFO","LIFO"].includes(e))throw new TypeError(`Expected queue method to be "FIFO" or "LIFO", got "${e}"`);this.method=e}set(e){return this.internalQueue=e,this}has(e){return this.internalQueue.some(t=>t===e)}get raw(){return this.internalQueue}insert(e){return this.internalQueue.push(e),e}remove(e){return this.internalQueue.indexOf(e)<0?!1:(this.internalQueue.splice(this.internalQueue.indexOf(e),1),e)}shuffle(e=!0){let t=()=>{for(let i=this.internalQueue.length-1;i>0;i--){let a=Math.floor(Math.random()*(i+1));[this.internalQueue[i],this.internalQueue[a]]=[this.internalQueue[a],this.internalQueue[i]]}};if(!e)return t();let u=this.shift();t(),this.unshift(u.item,u.index)}clear(){this.internalQueue=[]}shift(){let e=this.first(),t=this.internalQueue.indexOf(e);return this.internalQueue.splice(t,1),{item:e,index:t}}unshift(e,t=0){return t<0&&(t=0),t>this.internalQueue.length&&(t=this.internalQueue.length),this.internalQueue.splice(t,0,e),e}first(){return this.method==="FIFO"?this.internalQueue[0]:this.internalQueue[this.internalQueue.length-1]}last(){return this.method==="FIFO"?this.internalQueue[this.internalQueue.length-1]:this.internalQueue[0]}random(){return this.internalQueue[Math.floor(Math.random()*this.internalQueue.length)]}getInternal(){return this.internalQueue}copy(){return this.clone()}clone(){return new r(this.method).set(this.internalQueue.slice())}get count(){return this.internalQueue.length}*iterate(){yield*this.toArray()}*[Symbol.iterator](){yield*this.toArray()}toJSON(){return this.toArray()}toArray(){return this.method==="FIFO"?this.internalQueue.slice():this.internalQueue.slice().reverse()}};var s=Symbol("instance");function o(){return n=>new Proxy(n,{construct:(e,t,u)=>e.prototype!==u.prototype?Reflect.construct(e,t,u):(e[s]||(e[s]=new e(...t)),e[s])})}module.exports=d(T);0&&(module.exports={QueueMeta,kInstance,singleton});
//# sourceMappingURL=index.js.map