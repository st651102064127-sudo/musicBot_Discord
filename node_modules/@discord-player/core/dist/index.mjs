var u=class{constructor(e="FIFO"){this.internalQueue=[];if(!["FIFO","LIFO"].includes(e))throw new TypeError(`Expected queue method to be "FIFO" or "LIFO", got "${e}"`);this.method=e}set(e){return this.internalQueue=e,this}has(e){return this.internalQueue.some(t=>t===e)}get raw(){return this.internalQueue}insert(e){return this.internalQueue.push(e),e}remove(e){return this.internalQueue.indexOf(e)<0?!1:(this.internalQueue.splice(this.internalQueue.indexOf(e),1),e)}shuffle(e=!0){let t=()=>{for(let i=this.internalQueue.length-1;i>0;i--){let h=Math.floor(Math.random()*(i+1));[this.internalQueue[i],this.internalQueue[h]]=[this.internalQueue[h],this.internalQueue[i]]}};if(!e)return t();let n=this.shift();t(),this.unshift(n.item,n.index)}clear(){this.internalQueue=[]}shift(){let e=this.first(),t=this.internalQueue.indexOf(e);return this.internalQueue.splice(t,1),{item:e,index:t}}unshift(e,t=0){return t<0&&(t=0),t>this.internalQueue.length&&(t=this.internalQueue.length),this.internalQueue.splice(t,0,e),e}first(){return this.method==="FIFO"?this.internalQueue[0]:this.internalQueue[this.internalQueue.length-1]}last(){return this.method==="FIFO"?this.internalQueue[this.internalQueue.length-1]:this.internalQueue[0]}random(){return this.internalQueue[Math.floor(Math.random()*this.internalQueue.length)]}getInternal(){return this.internalQueue}copy(){return this.clone()}clone(){return new u(this.method).set(this.internalQueue.slice())}get count(){return this.internalQueue.length}*iterate(){yield*this.toArray()}*[Symbol.iterator](){yield*this.toArray()}toJSON(){return this.toArray()}toArray(){return this.method==="FIFO"?this.internalQueue.slice():this.internalQueue.slice().reverse()}};var r=Symbol("instance");function o(){return a=>new Proxy(a,{construct:(e,t,n)=>e.prototype!==n.prototype?Reflect.construct(e,t,n):(e[r]||(e[r]=new e(...t)),e[r])})}export{u as QueueMeta,r as kInstance,o as singleton};
//# sourceMappingURL=index.mjs.map